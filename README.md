# Ising Model Simulation in Rust with Python Analysis

This project simulates the 2D and 3D Ising models using a Rust core for performance, and provides Python tools for data analysis and visualization.

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.7+](https://img.shields.io/badge/python-3.7+-blue.svg)](https://www.python.org/downloads/)
[![Rust](https://img.shields.io/badge/rust-stable-orange.svg)](https://www.rust-lang.org/)

## Project Structure

The project is organized into two main components:

- `rust_core/`: A Rust library containing the core simulation logic for the 2D and 3D Ising models. This is where the heavy computation happens.
  - `src/`: Contains the Rust source code.
  - `Cargo.toml`: The Rust package manager configuration.

- `python_analysis/`: A Python package for analyzing the data generated by the Rust simulations and visualizing the results.
  - `data_analysis.py`: Scripts for analyzing simulation output.
  - `visualization.py`: Scripts for plotting data and lattice configurations.
  - `tests/`: Unit tests for the Python analysis and visualization code.

- `data/`: A directory to store the output data from the simulations. This directory is ignored by git.

## Getting Started

### Prerequisites

- [Rust and Cargo](https://www.rust-lang.org/tools/install)
- [Python 3.12+](https://www.python.org/) (due to PyO3 version)

### Installation & Building

This project uses `maturin` to build the Rust core into a native Python module. This allows for seamless integration between the high-performance Rust code and the flexible Python analysis scripts.

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/noahbean33/ising_model.git
    cd ising_model
    ```

2.  **Create and activate a Python virtual environment:**
    This is a crucial step to ensure dependencies are managed correctly.
    ```bash
    # Create the virtual environment
    python -m venv .venv

    # Activate it (Windows PowerShell)
    .\.venv\Scripts\Activate.ps1

    # Or on macOS/Linux
    # source .venv/bin/activate
    ```

3.  **Install dependencies and build the Rust core:**
    First, install the Python dependencies, which include `maturin`. Then, use `maturin` to compile the Rust code and install it into your virtual environment in "editable" mode.
    ```bash
    # Install Python packages
    pip install -r requirements.txt

    # Build and install the Rust module
    maturin develop --manifest-path rust_core/Cargo.toml
    ```

## Usage

With the `rust_core` module installed, you can now import it directly into your Python scripts and call the high-performance Rust functions.

For example, you can create a Python script like this:

```python
import rust_core

# This function is defined in Rust!
result = rust_core.add_py(10, 20)

print(f"Result from Rust: {result}")

# In the future, this will look like:
# simulation_data = rust_core.run_simulation_2d(L=64, T=2.269)
# print(simulation_data)
```

## Development

### Running Tests

To ensure the project is working correctly, run the tests for both the Rust and Python components.

1.  **Run Rust Tests:**
    This tests the pure Rust logic.
    ```bash
    cargo test --manifest-path rust_core/Cargo.toml
    ```

2.  **Run Python Tests:**
    This tests the Python analysis code and the Rust-Python integration.
    ```bash
    pytest
    ```

## Contributing

Contributions are welcome! Please feel free to fork the repository, make changes, and open a pull request.

## License

This project is licensed under the MIT License - see the `LICENSE` file for details.